# Environment Configuration
# Copy this file to .env and update with your settings

# Database Configuration - MariaDB/MySQL
DB_HOST=localhost
DB_NAME=ecommerce_platform
DB_USER=root
DB_PASS=
DB_CHARSET=utf8mb4

# Application Settings
APP_NAME="FezaMarket"
APP_URL=https://fezamarket.com
SITE_URL=https://fezamarket.com
APP_VERSION=2.0.0
APP_ENV=production
APP_DEBUG=false

# Security Settings
SECRET_KEY=your-secret-key-change-this-in-production-minimum-32-chars
SESSION_TIMEOUT=3600
BCRYPT_COST=12

# Email Settings - Configure for production
SMTP_HOST=smtp.fezamarket.com
SMTP_PORT=587
SMTP_USERNAME=no-reply@fezamarket.com
SMTP_PASSWORD=
SMTP_ENCRYPTION=tls
FROM_EMAIL=no-reply@fezamarket.com
MAIL_FROM_ADDRESS=no-reply@fezamarket.com
MAIL_FROM_NAME="FezaMarket"
SUPPORT_EMAIL=support@fezamarket.com
FROM_NAME="FezaMarket"

# Payment Gateway Settings
PAYMENT_GATEWAY=stripe

# ============================================================================
# Stripe Configuration
# ============================================================================
# Get your API keys from: https://dashboard.stripe.com/apikeys
# For testing, use test mode keys (pk_test_* and sk_test_*)
# For production, use live mode keys (pk_live_* and sk_live_*)
# WARNING: Keep these credentials secure and never commit .env file to version control
#
# NOTE: Entry points include bootstrap/simple_env_loader.php to ensure these variables
# are loaded for web requests. See STRIPE_INTEGRATION_GUIDE.md for details.

# Stripe Mode: 'test' for development, 'live' for production
# CRITICAL SECURITY REQUIREMENT:
# - In production (APP_ENV=production), you MUST set STRIPE_MODE=live
# - The system enforces live mode in production and will throw an exception if misconfigured
# - Set to 'test' only in development/staging environments
# SECURE DEFAULT: Set to 'live' for production deployment
STRIPE_MODE=live

# Production Override Flag (NOT RECOMMENDED - USE ONLY FOR DEBUGGING)
# Set to 'true' only for temporary debugging in production environment
# This allows test mode to run in production (real payments will NOT be processed)
# SECURE DEFAULT: false (enforces live mode in production)
ALLOW_TEST_MODE_IN_PRODUCTION=false

# Test Mode Keys (for development/staging environments)
# Get from: https://dashboard.stripe.com/test/apikeys
# These keys do NOT process real payments - safe for development
STRIPE_TEST_PUBLISHABLE_KEY=pk_test_your_key_here
STRIPE_TEST_SECRET_KEY=sk_test_your_key_here
STRIPE_WEBHOOK_SECRET_TEST=whsec_your_test_webhook_secret_here

# Live Mode Keys (for production environments)
# Get from: https://dashboard.stripe.com/apikeys
# These keys process REAL payments - keep them secure!
# SECURITY: Replace placeholders with actual live keys in production .env file
STRIPE_LIVE_PUBLISHABLE_KEY=pk_live_your_key_here
STRIPE_LIVE_SECRET_KEY=sk_live_your_key_here
STRIPE_WEBHOOK_SECRET_LIVE=whsec_your_live_webhook_secret_here

# Legacy Stripe Keys (backward compatibility only)
# These are used only if segmented keys above are not configured
# NOT RECOMMENDED: Use segmented keys (STRIPE_LIVE_* / STRIPE_TEST_*) instead
# Leave empty unless you have legacy code that requires these specific constants
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Stripe Webhook URL (optional - auto-generated from APP_URL if not set)
# Default: {APP_URL}/api/stripe-webhook.php
# Override only if your webhook endpoint is at a different location
# STRIPE_WEBHOOK_URL=https://yourdomain.com/api/stripe-webhook.php

# Stripe Settings
STRIPE_DEFAULT_CURRENCY=usd
STRIPE_STATEMENT_DESCRIPTOR=FEZAMARKET
STRIPE_CAPTURE_METHOD=automatic

# Stripe API Version (optional, defaults to latest compatible version)
# Pin to a specific version for consistency across environments
# See: https://docs.stripe.com/api/versioning
STRIPE_API_VERSION=2024-11-20.acacia

# AI/ML Settings
AI_RECOMMENDATIONS_ENABLED=true
MIN_RECOMMENDATIONS=4
MAX_RECOMMENDATIONS=12

# Cache Settings
CACHE_ENABLED=false
CACHE_LIFETIME=3600

# File Upload Settings
MAX_UPLOAD_SIZE=5242880
UPLOAD_PATH=uploads/

# Pagination Settings
PRODUCTS_PER_PAGE=12
ORDERS_PER_PAGE=20
REVIEWS_PER_PAGE=10

# Security & Auth Settings
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_DURATION=15
TWO_FA_ENABLED=false
REQUIRE_EMAIL_VERIFICATION=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60

# Admin Panel Settings
ADMIN_BYPASS=true

# Feza AI Assistant Settings
FEZA_AI_ENABLED=true
FEZA_AI_PROVIDER=openai
FEZA_AI_API_KEY=

# Google OAuth Configuration
# Get credentials from: https://console.cloud.google.com/apis/credentials
# See GOOGLE_LOGIN_SETUP.md for detailed setup instructions
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=https://fezamarket.com/auth/google-callback.php
